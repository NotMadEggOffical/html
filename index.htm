<!DOCTYPE html>
<html>
<head>
<title>HTML</title>
<link rel="icon" type="image/png" href="data:image/png;base64,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">

<script type="text/javascript">
  var editboxHTML = 
  '<!DOCTYPE html><html class="expand close">' +
  '<head>' +
  '<style>' +
  '.expand { width: 100%; height: 100%; }' +
  '.close { border: none; margin: 0px; padding: 0px; }' +
  'html,body { overflow: hidden; margin:0; padding:0; }' +
  '</style>' +
  '</head>' +
  '<body class="expand close" onload="document.f.ta.focus(); document.f.ta.select();">' +
  '<form class="expand close" name="f">' +
  '<textarea class="expand close" placeholder="Put your HTML text here..." style="background:#def;" name="ta" wrap="hard" spellcheck="false"></textarea>' +
  '<input type="file" id="fileInput" style="display:none;" accept=".html,.htm" />' +
  '</form>' +
  '</body>' +
  '</html>';

  var defaultStuff = '<h3>Welcome to the Madegg HTML editor/viewer!</h3>' +
  '<p>type stuff here! you can press and hold your mouse in the middle bar to change the size!</p>' +
  '<h3>Commands:</h3><ul>' +
  '<li>Ctrl+B - Open code in about:blank</li>' +
  '<li>Ctrl+G - Save code as .html</li>' +
  '<li>Ctrl+I - Load HTML file</li>' +
  '<li>DO NOT ALLOW DOWNLAODING MULTIPLE FILES THERE IS A GLITCH THAT WHEN YOU DO CTRL + G IT DOWNLOADS 2 OF THE SAME FILE SO FOR NOW DONT THE FEATURE STILL WORKS IF YOU DONT ALLOW MULTIPLE DONWLOADS!</li>' +
 +
  '</ul>';

  var extraStuff = '<div style="position:absolute; bottom:0; right:0; margin:.3em;"><small>' +
 

  var old = '';

  function init() {
    var eb = window.frames["editbox"];
    eb.document.open();
    eb.document.write(editboxHTML);
    eb.document.close();

    eb.onload = setupEditor; // fallback
    setTimeout(setupEditor, 100);
    update();
  }

  function setupEditor() {
    var eb = window.frames["editbox"];
    var ta = eb.document.f.ta;

    ta.value = defaultStuff;

    eb.document.addEventListener("keydown", function(e) {
      if (e.ctrlKey && e.altKey && !e.shiftKey && !e.metaKey) {
        e.preventDefault();
        var current = localStorage.getItem("layout") || "horizontal";
        var newLayout = current === "horizontal" ? "vertical" : "horizontal";
        localStorage.setItem("layout", newLayout);
        location.reload();
        return;
      }

      if (e.ctrlKey) {
        switch (e.key.toLowerCase()) {
          case 'b':
            e.preventDefault();
            if (!window._previewWindow || window._previewWindow.closed) {
              window._previewWindow = window.open('about:blank');
            }
            window._previewWindow.document.open();
            window._previewWindow.document.write(ta.value);
            window._previewWindow.document.close();
            break;
          case 'g':
            e.preventDefault();
            var blob = new Blob([ta.value], { type: "text/html" });
            var link = eb.document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = "your_code.html";
            link.click();
            break;
          case 'i':
            e.preventDefault();
            var fileInput = eb.document.getElementById("fileInput");
            fileInput.click();
            fileInput.onchange = function () {
              var file = fileInput.files[0];
              if (file) {
                var reader = new FileReader();
                reader.onload = function (e) {
                  ta.value = e.target.result;
                };
                reader.readAsText(file);
              }
            };
            break;
        }
      }
    });
  }

  function update() {
    var ta;
    try {
      ta = window.frames["editbox"].document.f.ta;
    } catch (e) {
      return setTimeout(update, 200);
    }

    if (old !== ta.value) {
      old = ta.value;
      var d = window.frames["dynamicframe"].document;
      d.open();
      d.write(old);
      if (old.replace(/\s+/g, '') === defaultStuff.replace(/\s+/g, '')) {
        d.write(extraStuff);
      }
      d.close();
    }
    setTimeout(update, 150);
  }

  var layout = localStorage.getItem("layout") || "horizontal";
  document.write(
    layout === "horizontal"
    ? '<frameset rows="50%,*" onload="init();">'
    : '<frameset cols="50%,*" onload="init();">'
  );
</script>
<frame name="editbox" src="about:blank">
<frame name="dynamicframe" src="about:blank">
</frameset>
</head>
<body></body>
</html>
